<ion-content class="ion-padding">

  <ion-grid>
    <ion-row>
      <ion-col size="12" sizeMd="12" sizeSm="12" class="top-image ion-text-center ion-padding">
        <ion-img class="top-image" src="./../../assets/imgs/next-price-small-logo.svg"></ion-img>
      </ion-col>
      <ion-col size="12" sizeSm="12" sizeMd="12">
        <h1 class="ion-text-center">SIGN UP</h1>
      </ion-col>
    </ion-row>
  </ion-grid>

  <ion-grid class="ion-padding-right ion-padding-left">
    <ion-row>
      <ion-col sizeSm="12" sizeMd="6" offsetMd="3">
        <form [formGroup]="signUpForm">
          <ion-item class="box" lines="none"
            [ngClass]="{'error-box': signupFormData.firstName.touched && signupFormData.firstName.hasError('required')}">
            <ion-label position="floating">First name</ion-label>
            <ion-input type="text" formControlName="firstName"
              color="{{ (signupFormData.firstName.touched && signupFormData.firstName.hasError('required')) ? 'danger' : '' }}"
              required></ion-input>
            <ion-text color="danger"
              *ngIf=" signupFormData.firstName.touched && signupFormData.firstName.hasError('required')">First name is
              required</ion-text>
          </ion-item>

          <ion-item class="box" lines="none"
            [ngClass]="{'error-box': signupFormData.lastName.touched && signupFormData.lastName.hasError('required')}">
            <ion-label position="floating">Last name</ion-label>
            <ion-input type="text" formControlName="lastName"
              color="{{ (signupFormData.lastName.touched && signupFormData.lastName.hasError('required')) ? 'danger' : '' }}">
            </ion-input>
            <ion-text color="danger"
              *ngIf=" signupFormData.lastName.touched && signupFormData.lastName.hasError('required')">Last name is
              required</ion-text>
          </ion-item>


          <ion-item class="box" lines="none"
            [ngClass]="{'error-box': (signupFormData.email.touched && signupFormData.email.hasError('required')) || signupFormData.email.hasError('email')}">
            <ion-label position="floating">Email</ion-label>
            <ion-input type="email" formControlName="email"></ion-input>
            <ion-text color="danger" *ngIf=" signupFormData.email.touched && signupFormData.email.hasError('required')">
              Email is
              required</ion-text>

            <ion-text color="danger" *ngIf=" signupFormData.email.touched && signupFormData.email.hasError('email')">
              Email is
              invalid</ion-text>
          </ion-item>

          <ion-item class="box" lines="none"
            [ngClass]="{'error-box': (signupFormData.phoneNumber.touched && signupFormData.phoneNumber.hasError('required'))}">
            <ion-label position="floating">Phone number</ion-label>
            <ion-input type="tel" formControlName="phoneNumber"
              [color]="(signupFormData.phoneNumber.touched && signupFormData.phoneNumber.hasError('required')) ? 'danger' : 'primary'">
            </ion-input>
            <ion-text color="danger"
              *ngIf=" signupFormData.phoneNumber.touched && signupFormData.phoneNumber.hasError('required')">
              Phone number is
              required</ion-text>
          </ion-item>

          <ion-item class="box" lines="none"
            [ngClass]="{'error-box': (signupFormData.password.touched && signupFormData.password.hasError('required')) || signupFormData.password.touched && signupFormData.password.errors?.minLength || signupFormData.password.touched && signupFormData.password.errors?.maxLength}">
            <ion-label position="floating">Password</ion-label>
            <ion-input type="password" formControlName="password"></ion-input>

            <ion-text color="danger"
              *ngIf=" signupFormData.password.touched && signupFormData.password.hasError('required')">
              Password is required</ion-text>
            <ion-text color="danger"
              *ngIf=" signupFormData.password.touched && signupFormData.password.errors?.minLength">
              password length should be from 6 to 16 characters long</ion-text>
          </ion-item>
          <ion-button [disabled]="signUpForm.invalid" class="mt-5" size="large" color="dark" expand="block">
            <ion-spinner *ngIf="isLoading" slot="start" color="light" name="bubbles"></ion-spinner>
            Register
          </ion-button>
        </form>
      </ion-col>
    </ion-row>
  </ion-grid>

  <p [routerLink]="['/login']" class="ion-text-center"> Already have an account? Login </p>

  <div class="ion-padding-top ion-padding-bottom ion-text-center">
    <ion-text class="ion-padding-top ion-text-center">Help a neighbour to know the prices</ion-text>
  </div>
</ion-content>
